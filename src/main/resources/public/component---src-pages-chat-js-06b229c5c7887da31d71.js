"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[646,883],{79:function(e,t,n){var l=n(294);t.Z=function(e){var t=e.style,n=(0,l.useState)(""),i=n[0],a=n[1];function s(e){void 0===e&&(e=2e3),a("fadeIn"),setTimeout((function(){a("bounceOutUp")}),e)}return(0,l.useImperativeHandle)(e.onRef,(function(){return{show:s}})),l.createElement("div",null,l.createElement("div",{style:t,className:i},e.data.msg))}},429:function(e,t,n){n.r(t);var l=n(294);t.default=function(){return l.createElement("div",null,"Page Not Fount，页面不存在!",l.createElement("div",null,l.createElement("br",null),"滚滚长江东逝水，浪花淘尽英雄。 是非成败转头空。 青山依旧在，几度夕阳红。 白发渔樵江渚上，惯看秋月春风。 一壶浊酒喜相逢。 古今多少事，都付笑谈中。"))}},455:function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var l=n(294),i=function(e){var t=(0,l.useState)(""),n=t[0],i=t[1];function a(e){i(e)}return(0,l.useImperativeHandle)(e.onRef,(function(){return{updateUser:a}})),l.createElement("div",{className:"SimpleVideo-module--total---BTSH",style:e.styles.total},l.createElement("div",{className:"SimpleVideo-module--username--QFbYM"},e.usernameDes," ",""===n?e.username:n),l.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},l.createElement("span",{style:{color:"#166e6c",fontSize:"13px"}},e.cameraDes),l.createElement("video",{id:e.videoId,style:e.styles.video,className:"SimpleVideo-module--video--Yc-zm",autoPlay:!0})))},a=n(79),s=n(429),o=function(e){var t,n=!1;try{t=e.location.state.username.username}catch(_){n=!0}var o="localVideo",c="remoteVideo",r=(0,l.useState)("hidden"),u=r[0],d=r[1],m=(0,l.useState)(""),f=m[0],p=m[1],v=(0,l.useRef)(),h=(0,l.useRef)(),g=(0,l.useState)(""),x=g[0],y=g[1],E=(0,l.useState)("hidden"),S=E[0],w=E[1],b=(0,l.useState)("#aed3ae"),k=b[0],C=b[1],I=(0,l.useState)("#24ab15"),D=I[0],N=I[1],L={width:"300px",height:"40px",backgroundColor:k,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"3px",visibility:S,border:"1px solid #ffffff",fontSize:"14px",lineHeight:"1.571",color:D};function R(){C("#aed3ae"),N("#24ab15")}function V(){C("#fff2f0"),N("#f56c6c")}function j(e,t,n,l){void 0===t&&(t=R),void 0===n&&(n=1e3),void 0===l&&(l=2e3),y(e),t(),w("visible"),h.current.show(n),setTimeout((function(){w("hidden")}),l)}function T(){if(!f)return e=1500,d("visible"),void setTimeout((function(){d("hidden")}),e);var e;simpleSdk.call(f)}return(0,l.useEffect)((function(){n||simpleSdk.setVideoTag(o,c)}),[]),(0,l.useEffect)((function(){simpleSdk.on("call-success",(function(e){h.current&&j(e.data.msg)})),simpleSdk.onMulti(["not-online","busy"],(function(e){h.current&&j(e.data.msg,V)})),simpleSdk.on("called",(function(e){console.log(e);var t=e.data.msg;h.current&&j("收到来自 ["+t+"] 的视频邀请,3秒后将自动接受",void 0,4e3,4e3),setTimeout((function(){simpleSdk.accept()}),3e3)})),simpleSdk.on("accepted",(function(){console.log("对方接受")})),simpleSdk.on("hang-up",(function(e){}))}),[]),n?(0,s.default)():l.createElement("div",null,l.createElement("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},l.createElement("div",null,l.createElement(a.Z,{onRef:h,data:{msg:x},style:L})),l.createElement("div",{className:"chat-module--des--jX5+j"},"我打尼玛的啊？"),l.createElement("div",{style:{width:"410px",display:"flex",flexFlow:"row wrap",justifyContent:"flex-start",alignItems:"center"}},l.createElement("svg",{t:"1643784048204",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1568",width:"6px",height:"6px"},l.createElement("path",{d:"M927 679.5L635.7 511.7 927 343.9c29.1-14.6 43.7-58.3 22.1-87.4-14.6-29.1-58.3-43.7-87.4-22.1L570.5 402.2V67.8c7-36.7-22.1-65.8-58.3-65.8-36.1 0-65.8 29.1-65.8 65.8v335L155.1 235c-22.1-21.6-65.8-7-80.4 22.1-14.6 29.1-7.6 72.8 22.1 87.4l291.3 167.8L96.9 680.1c-29.1 14.6-43.7 58.3-21.6 87.4 14.6 22.1 36.7 29.1 58.3 29.1 7 0 21.6 0 29.1-7.6L454 621.2v335c-7.6 36.7 22.1 65.8 58.3 65.8 36.1 0 65.2-29.1 65.2-65.8v-335L868.7 789c7.6 7.6 22.1 7.6 29.1 7.6 22.1 0 43.7-14.6 58.3-29.1 7-29.8 0-73.5-29.1-88z",fill:"#E52323","p-id":"1569"})),l.createElement("input",{className:"chat-module--input--qOoOt",placeholder:"输入对方用户名呼叫",onChange:function(e){return t=(t=e.target.value).replace(/\s+/g,""),p(t),void v.current.updateUser(t);var t},value:f}),l.createElement("button",{className:"chat-module--callBtn--CC1G5",onClick:function(){return T()}},"呼叫"),l.createElement("span",{style:{paddingLeft:"7px",fontSize:"13px",color:"#de0c0c",visibility:u}},"用户名不能为空!")),l.createElement("div",{style:{height:"480px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},l.createElement(i,{videoId:o,cameraDes:"我方摄像头",usernameDes:"我方用户: ",username:t,styles:{total:{width:"640px",height:"480px"},video:{width:"640px",height:"400px"}}}),l.createElement(i,{onRef:v,videoId:c,cameraDes:"对方摄像头",usernameDes:"对方用户: ",username:f,styles:{total:{width:"640px",height:"480px"},video:{width:"300px",height:"200px"}}}))))}}}]);
//# sourceMappingURL=component---src-pages-chat-js-06b229c5c7887da31d71.js.map